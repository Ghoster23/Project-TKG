<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_CH_deer_state</spriteName>
  <solid>-1</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>obj_lifeform_parent</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>state = 0;
image_speed = 0;
once = false;
depth = -y;
i_x = x;
i_y = y;

phy_fixed_rotation = true;
inv = false;

alarm[0] = 15 * room_speed;

global.b_mhp = 60;
global.b_hp = 60;
global.b_atk = 8;
global.b_s_atk = 6;
global.b_def = 3;
global.b_s_def = 3;
global.b_spd = 0;

x_s = 145;
y_s = 288;

x_e = 417;
y_e = 500;

s_x = 180;
ss_x = 1;
mult = 1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>state = 2;
once = false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>state = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>state = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>state = 3;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>alarm[5] = 1 * room_speed;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>state = 1;
once = false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>depth = -y;

s_x = s_x + ss_x*5;

if(s_x &gt; 360 and ss_x == 1){
    ss_x = -1;

}
if(s_x &lt; 180 and ss_x == -1){
    ss_x = 1;
    
}

x = phy_position_x;
y = phy_position_y;

phy_position_x = i_x;
phy_position_y = i_y;

///Action state based changes
switch(state){
    //Rock state
    case 0:
        ///Stomp animation
        
        ///Screen shake
        
        ///Falling Rocks
        if(alarm[0] &gt; 5 * room_speed and alarm[0] mod 5 == 0){
            x_s = obj_body.x - 60;
            y_s = obj_body.y - 60;
            
            x_e = obj_body.x + 60;
            y_e = obj_body.y + 60;
            
            instance_create(x,y-500,obj_fln_rock);
            
        }
        
        ///Blocking Rocks
        if(alarm[0] &gt; 0 and alarm[0] &lt; 6 and once == false){
            f_x = 275;
            f_y = 415;
            instance_create(275,115,obj_CH_deer_brock);
            f_x = 400;
            f_y = 330;
            instance_create(400,30,obj_CH_deer_brock);
            f_x = 144;
            f_y = 330;
            instance_create(144,30,obj_CH_deer_brock);
            once = true;
        }
        
    break;
    
    //Leaf State
    case 1:
        ///Leaf Barrage
        if(once == false){
            pat = 'f';
            alarm[1] = 10 * room_speed;
            once = true;
            
        }
        
        if(alarm[1] &gt; 0){
            instance_create(x,y,obj_CH_leaf);
            instance_create(x+10,y,obj_CH_leaf);
            instance_create(x-10,y,obj_CH_leaf);
        }
                
    break;
    
    case 2:
        ///Leaf Shooting
        if(once == false){
            alarm[2] = 10 * room_speed;
            once = true;
            
        }
        
        pat = "a";
        
        instance_create(x,y,obj_CH_leaf);
        
    break;
    
    //Root State
    case 3:
        ///Follower roots
        if(alarm[3] == 0){
            alarm[3] = 10 * room_speed;
            
        }
        
        instance_create(x,y+32,obj_CH_mroots);
        
    break;
    
    //Defeat State
    case 4:
        ///Death animation
        sprite_index = spr_CH_deer_death;
        image_speed = 2;
        
        ///Destroy and give rewards
        if(image_index == 6 and sprite_index == spr_CH_deer_death){
            instance_create(x,y,obj_CH_stump);
            instance_create(x,y,obj_equipable);
        
        }
        
    break;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_body">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//collide
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>-1</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>2</PhysicsObjectShape>
  <PhysicsObjectDensity>0</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>112,144</point>
    <point>192,192</point>
    <point>144,208</point>
    <point>48,208</point>
    <point>16,176</point>
    <point>80,144</point>
  </PhysicsShapePoints>
</object>
